(function(){function e(a,b){a&&(this.settings=Object.assign({},this.defaults,b||{}),this.callback=b.callback?b.callback:null,this.state={},this.listeners={},this.DOM=this.build(a),this.events.binding.call(this,this.DOM),setTimeout(this.moveBar.bind(this)))}raf=window.requestAnimationFrame||function(a){return window.setTimeout(a,1E3/60)};e.prototype={defaults:{classname:"",track:!1},build:function(a){var b={};scopeHTML='<div class="fakeScroll__wrap">\n                                <div class="fakeScroll__content"></div>\n                             </div>\n                             <div class=\'fakeScroll__track '+
this.settings.classname+'\'>\n                                <div class="fakeScroll__bar"></div>\n                             </div>';for(fragment=document.createDocumentFragment();a.childNodes.length;)fragment.appendChild(a.childNodes[0]);a.insertAdjacentHTML("afterbegin",scopeHTML);b.scope=a;b.scrollWrap=a.firstElementChild;b.scrollContent=b.scrollWrap.firstElementChild;b.scrollContent.appendChild(fragment);b.track=b.scrollWrap.nextElementSibling;b.bar=b.track.firstElementChild;return b},destroy:function(){this.events.off.call(this,
window,"resize","onScrollResize")},events:{on:function(a,b,d){var c=this;b.split(" ").forEach(function(b){d in c.events.callbacks||console.warn(d," doesn't exist in Callbacks: ",c.events.callbacks);c.listeners[b]=c.events.callbacks[d].bind(c);a.addEventListener(b,c.listeners[b])});return this.events},off:function(a,b,d){var c=this;b.split(" ").forEach(function(b){return a.removeEventListener(b,c.listeners[b])});return this.events},binding:function(a){this.events.on.call(this,a.scrollContent,"scroll",
"onScrollResize").on.call(this,a.scope,"mouseenter","onScrollResize").on.call(this,a.bar,"mousedown","onBarMouseDown").on.call(this,window,"resize","onScrollResize");this.settings.track&&this.events.on.call(this,a.track,"click","onTrackClick")},drag:function(a){this.events[a].call(this,document,"mousemove","onDrag")[a].call(this,document,"mouseup","onStopDrag")},callbacks:{onScrollResize:function(a){this.moveBar.call(this);clearTimeout(this.listeners.timeout__resize);this.listeners.timeout__resize=
setTimeout(this.getTrackBounds.bind(this),200)},onDrag:function(a){var b=this,d=a.pageY-this.state.lastPageY;this.state.lastPageY=a.pageY;raf(function(){var c=document.documentElement.scrollTop;a.pageY>=b.state.trackBounds.top+c&&a.pageY<=b.state.trackBounds.bottom+c&&(b.DOM.scrollContent.scrollTop+=d/b.state.scrollRatio)})},onStopDrag:function(a){var b=this;[this.DOM.bar,document.body].map(function(a){return a.classList.remove("fakeScroll--grabbed")});this.events.drag.call(this,"off");setTimeout(function(){b.state.drag=
!1})},onBarMouseDown:function(a){this.state.drag=!0;this.state.lastPageY=a.pageY;[this.DOM.bar,document.body].map(function(a){return a.classList.add("fakeScroll--grabbed")});this.events.drag.call(this,"on")},onTrackClick:function(a){var b=this;this.state.drag||(a=(a.clientY-this.state.trackBounds.top)/(this.state.trackBounds.height-this.state.trackBounds.topPad-this.state.trackBounds.bottomPad)*(this.DOM.scrollContent.scrollHeight-this.DOM.scrollWrap.clientHeight),"smooth"==this.settings.track&&(this.DOM.scrollContent.style.scrollBehavior=
"smooth",setTimeout(function(){b.DOM.scrollContent.style.scrollBehavior="unset"},500)),this.DOM.scrollContent.scrollTop=a)}}},getTrackBounds:function(){var a=this.DOM.track.getBoundingClientRect(),b=window.getComputedStyle(this.DOM.track,null);a.topPad=parseInt(b.paddingTop,10);a.bottomPad=parseInt(b.paddingBottom,10);return this.state.trackBounds=a},moveBar:function(){var a=this,b=this.DOM.scrollContent,d=b.scrollHeight,c=this.DOM.scrollWrap.clientHeight;this.state.scrollRatio=c/d;raf(function(){a.DOM.bar.style.cssText=
"height  : "+c/d*100+"%;\n                                              top     : "+b.scrollTop/d*100+"%;\n                                              display : "+(d<=c?"none":"")})}};Element.prototype.fakeScroll=function(a){return this._fakeScroll=this._fakeScroll||new e(this,a||{})}})();